---
import { Icon as AstroIcon } from 'astro-icon/components';

interface Props {
	name: string;
	class?: string;
	ariaLabel?: string;
}

const { name, ariaLabel, class: propsClass, ...rest } = Astro.props;

const computedAriaLabel = ariaLabel ?? undefined;
const computedArialHidden = computedAriaLabel ? 'false' : 'true';
const computedFocusable = computedAriaLabel ? 'true' : 'false';

const classes = ['c-icon', propsClass];
---

<AstroIcon
	name={name}
	class:list={classes}
	aria-label={computedAriaLabel}
	aria-hidden={computedArialHidden}
	focusable={computedFocusable}
	{...rest}
/>

<style>
	@layer components {
		.c-icon {
			display: inline-block;
			vertical-align: middle;

			svg {
				--icon-height: calc(var(--icon-width) * (1 / (var(--icon-ratio))));

				display: block;
				width: var(--icon-width);
				height: var(--icon-height);
				fill: currentColor;
			}
		}

		:root {
			--icon-width-logo: 50px;
			--icon-ratio-logo: 32 / 20;
		}

		.svg-logo {
			--icon-width: var(--icon-width-logo);
			--icon-ratio: var(--icon-ratio-logo);
		}
	}
</style>
